{% extends "admin/base_site.html" %}
{% load admin_static %}
{% load humanize %}
{% load i18n %}


{% block title %}
  {% trans 'Backups' %}
  {{ block.super }}
{% endblock title %}

{% block extrahead %}
  {{ block.super }}
  <link rel="stylesheet" type="text/css" href="{% static "admin/css/admin_fixes.css" %}"/>
{% endblock extrahead %}


{% if not is_popup %}
  {% block breadcrumbs %}
    {% trans 'Backups' as header %}

    <ul class="breadcrumb">
      <li><a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
        <span class="divider">&raquo;</span></li>
      <li>
        <a href="{% url 'admin_dump:index' %}">{{ header|capfirst }}</a>
        <span class="divider">&raquo;</span></li>
      <li class="active">{{ header|capfirst }}</li>
    </ul>
  {% endblock %}
{% endif %}


{% block content %}
  <h2 class="content-title">Backups</h2>

  <table class="admin-table">
    <thead>
    <tr>
      <th>{% trans 'File' %}</th>
      <th>{% trans 'Size' %}</th>
      <th>{% trans 'Download' %}</th>
      <th>{% trans 'Delete' %}</th>
    </tr>
    </thead>

    <tbody>
      {% for file in files %}
        <tr>
          <th>
            <span>{{ file.0 }}</span>
          </th>
          <th>
            <span>{{ file.1|filesizeformat }}</span>
          </th>
          <th>
            <a href="{% url 'admin_dump:download' file.0 %}" class="btn btn-success">
              {% trans 'Download' %}
            </a>
          </th>
          <th>
            <a href="{% url 'admin_dump:delete' file.0 %}" class="btn btn-danger btn-small"
                onclick="return confirm('{% trans 'Are you shure?' %}')">
              {% trans 'Delete' %}
            </a>
          </th>
        </tr>
      {% endfor %}
    </tbody>
  </table>

  <a href="{% url 'admin_dump:create' %}" class="btn btn-info"
      style="margin-top: 20px;">{% trans 'Create' %}</a>

{% endblock %}
