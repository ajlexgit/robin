{% extends 'layout.html' %}

{% load attachable_blocks %}
{% load staticfiles %}
{% load pipeline %}

{% block static_head %}
  {{ block.super }}
  {% stylesheet 'main_page' %}
{% endblock static_head %}

{% block static_js %}
  {{ block.super }}
  {% javascript 'main_page' %}
{% endblock static_js %}


{% block content %}

  <div id="main-slider" class="section section-slider section-full-height">
    <div class="section-inner">

      <div class="slider no-slider">
        {% for item in config.gallery.image_items %}
          <img class="slider-item" src="{{ item.image.wide.url }}"
               srcset="{{ item.image.wide.srcset }},
                       {{ item.image.normal.srcset }},
                       {{ item.image.mobile.srcset }}" sizes="100vw">
        {% endfor %}

        <div class="overlay">
          <div class="grid-block">
            <div class="title title-h1">Example title</div>
          </div>
        </div>
      </div>

    </div>
  </div>


  <div id="gallery" class="block">
    <div class="grid-block">

      <div class="list">
        {% for item in config.gallery.items.all %}
          {% if item.is_image %}
            <div class="item image-item"
                 data-src="{{ item.image.wide.url }}"
                 data-srcset="{{ item.image.wide.srcset }}, {{ item.image.normal.srcset }}, {{ item.image.mobile.srcset }}">
              <img src="{{ item.image.preview.url }}" width="{{ item.image.preview.target_width }}" height="{{ item.image.preview.target_height }}">
            </div>
          {% elif item.is_video_link %}
            <div class="item video-item"
                 data-provider="{{ item.video.provider.name }}"
                 data-key="{{ item.video.key }}">
              <img src="{{ item.video_preview.preview.url }}">
            </div>
          {% endif %}
        {% endfor %}
      </div>

    </div>
  </div>

  {% render_attached_blocks config %}

{% endblock content %}
