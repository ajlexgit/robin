{% extends 'layout.html' %}

{% load pipeline %}
{% load seo %}

{% block static_head %}
  {{ block.super }}
  {% stylesheet 'main_forms' %}

  {{ form.media }}
{% endblock static_head %}

{% block static_js %}
  {{ block.super }}
  {% javascript 'main_forms' %}
{% endblock static_js %}


{% block content %}

  <div id="form">
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}

      <div class="grid">
        <div class="gc-full gc-alone">
          <div style="display: inline-block">
            {% for field in form %}
              <fieldset>
                {{ field.label_tag }}
                {{ field }}
                {{ field.errors }}
              </fieldset>
            {% endfor %}
          </div>
        </div>

        <div class="gc-full gc-alone">
          <div style="display: inline-block">
            <div class="formset">
              {{ formset.management_form }}

              <div class="forms">
                {% for form in formset %}
                  <div class="form">
                    {{ form.id.as_hidden }}

                    {% if formset.can_delete %}
                      {{ form.DELETE.as_hidden }}
                    {% endif %}

                    {{ form.name.label_tag }}
                    {{ form.name }}
                    {{ form.name.errors }}

                    <a class="delete" href="#" style="color: white; margin-left: 10px;">delete</a>
                  </div>
                {% endfor %}
              </div>

              <div class="empty-form" style="display: none">
                {% with form=formset.empty_form %}
                  <div class="form">
                    {{ form.id.as_hidden }}

                    {% if formset.can_delete %}
                      {{ form.DELETE.as_hidden }}
                    {% endif %}

                    {{ form.name.label_tag }}
                    {{ form.name }}
                    {{ form.name.errors }}

                    <a class="delete" href="#" style="color: white; margin-left: 10px;">delete</a>
                  </div>
                {% endwith %}
              </div>
            </div>

            <div style="margin-top: 10px;">
              <a class="add" href="#" style="color: white;">add form</a>
            </div>

            <input type="submit" value="Send" style="margin-top: 10px;">
          </div>
        </div>
      </div>
    </form>
  </div>

  {% seo_block %}

{% endblock content %}
