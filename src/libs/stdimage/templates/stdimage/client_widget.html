{% load i18n %}

<div class="stdimage {% if not preview %}empty{% endif %}"
     data-size="{{ preview_variation.size|join:'x' }}"
     data-crop="{{ preview_variation.crop|yesno:"1,0,1" }}"
     data-stretch="{{ preview_variation.stretch|yesno:"1,0,0" }}"
     data-max_width="{{ preview_variation.max_width }}"
     data-max_height="{{ preview_variation.max_height }}"
     data-offset="{{ preview_variation.offset|default:''|join:'x' }}"
     data-center="{{ preview_variation.center|default:''|join:'x' }}"
     data-background="{{ preview_variation.background|join:',' }}"
     data-source="{{ value.url_nocache }}"
     data-aspects="{{ aspects }}"
     data-min_dimensions="{{ min_dimensions|join:'x' }}"
     data-max_dimensions="{{ max_dimensions|join:'x' }}">

  <div class="previews">
    {% if preview %}
      <img src="{{ preview.url_nocache }}" class="old-preview">
    {% endif %}

    <img src="{{ preview.url_nocache }}" class="new-preview" style="display: none">

    <input type="file" {{ attrs }}>
  </div>
</div>
