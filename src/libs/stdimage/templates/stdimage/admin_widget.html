{% load i18n %}
{% load variation_field %}

<div class="stdimage">
    <div class="item-preview {% if not value %}hide{% endif %}"
         data-action="{{ admin_variation.action|default:1 }}"
         data-size="{{ admin_variation.size|join:'x' }}"
         data-position="{{ admin_variation.position|join:'x' }}"
         data-source="{{ value.url_nocache }}">
        {% with variation_field=value|variation_field:admin_variation.name %}
            <img src="{{ variation_field.url_nocache }}">
        {% endwith %}
    </div>

    <p class="hint">
        {% trans 'Dimensions: ' %} {% trans 'from' %} {{ min_dimensions|join:'x' }} {% trans 'to' %} {{ max_dimensions|join:'x' }}
    </p>

    {{ input }}

    {% if crop_area %}
        <div class="crop-btn-wrapper {% if not value %}hide{% endif %}">
            <button class="btn"
                    data-crop_field="{{ crop_field|default:'' }}"
                    data-aspects="{{ aspects }}"
                    data-min_dimensions="{{ min_dimensions|join:'x' }}"
                    data-max_dimensions="{{ max_dimensions|join:'x' }}">
                {% trans 'Crop image' %}
            </button>
            <input type="hidden" name="{{ name }}-croparea" value="">
        </div>
    {% endif %}

    {% if value %}
        <div>
            <span>{% trans 'Delete' %}:</span>
            <input type="checkbox" name="{{ name }}-delete" class="delete"/>
        </div>
    {% endif %}
</div>
